webpackJsonp([1],{"/kt0":function(t,e,s){"use strict";var i=s("Zrlr"),r=s.n(i),n=s("wxAW"),o=s.n(n),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};r()(this,t),this.value=e,this.coord={x:s.x,y:s.y},this.isNew=!1,this.oldCoord={x:this.coord.x,y:this.coord.y}}return o()(t,[{key:"refreshCoord",value:function(t){this.isNew=!1,this.oldCoord.x=this.coord.x,this.oldCoord.y=this.coord.y,this.coord.x=t.x,this.coord.y=t.y}}]),t}();e.a=a},"3GDu":function(t,e,s){"use strict";function i(t){s("KVUd")}var r=s("fGNU"),n=s("h8EM"),o=s("VU/8"),a=i,c=o(r.a,n.a,!1,a,"data-v-f0c3cf86",null);e.a=c.exports},"8Wsr":function(t,e,s){"use strict";e.a={data:function(){return{}},props:{tile:{type:Object,required:!0}},methods:{getBackgroudColor:function(t){switch(t){case 0:return"rgba(238, 228, 218, 0.35)";case 2:return"#eee4da";case 4:return"#ede0c8";case 8:return"#f2b179";case 16:return"#f59563";case 32:return"#f67c5f";case 64:return"#f65e3b";case 128:return"#edcf72";case 256:return"#edcc61";case 512:return"#edc850";case 1024:return"#edc53f";case 2048:return"#edc22e"}}},computed:{position:function(){return{top:100*this.tile.coord.x+10*(this.tile.coord.x+1)+"px",left:100*this.tile.coord.y+10*(this.tile.coord.y+1)+"px",background:this.getBackgroudColor(this.tile.value)}}}}},B1Az:function(t,e,s){"use strict";function i(t){s("OZYz")}var r=s("8Wsr"),n=s("Dqss"),o=s("VU/8"),a=i,c=o(r.a,n.a,!1,a,"data-v-4dad1472",null);e.a=c.exports},DW0X:function(t,e){},Dqss:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cell",class:{"new-tile":t.tile.isNew},style:t.position},[0!=t.tile.value?s("span",[t._v(t._s(t.tile.value))]):t._e()])},r=[],n={render:i,staticRenderFns:r};e.a=n},KVUd:function(t,e){},M93x:function(t,e,s){"use strict";function i(t){s("DW0X")}var r=s("xJD8"),n=s("e5Iz"),o=s("VU/8"),a=i,c=o(r.a,n.a,!1,a,null,null);e.a=c.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),r=s("M93x");i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:r.a}})},OZYz:function(t,e){},e5Iz:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Map")],1)},r=[],n={render:i,staticRenderFns:r};e.a=n},fGNU:function(t,e,s){"use strict";var i=s("B1Az"),r=s("/kt0");e.a={data:function(){return{tiles:[],isOver:!1,score:0,isMove:!1}},created:function(){this.init()},mounted:function(){document.onkeydown=this.onKeyDown},methods:{init:function(){this.isOver=!1,this.tiles=[];for(var t=0;t<4;t++){this.tiles.push([]);for(var e=0;e<4;e++)this.tiles[t].push(new r.a(0,{x:t,y:e})),this.$set(this.tiles,t,this.tiles[t])}this.generateRandom()},generateRandom:function(){for(var t=[],e=0;e<4;e++)for(var s=0;s<4;s++)0===this.tiles[e][s].value&&t.push({r:e,c:s});if(t.length>0){var i=Math.floor(Math.random()*t.length),r=Math.random()>.5?2:4,n=t[i].r,o=t[i].c;this.tiles[n][o].value=r,this.tiles[n][o].isNew=!0,this.$set(this.tiles,n,this.tiles[n]),this.score||(this.score=r)}},onKeyDown:function(t){t.keyCode>=37&&t.keyCode<=40&&this.move(t.keyCode-37)},refreshTiles:function(){for(var t=0;t<4;t++)for(var e=0;e<4;e++)this.score=Math.max(this.score,this.tiles[t][e].value),this.tiles[t][e].refreshCoord({x:t,y:e})},rotateLeft:function(t){for(var e=t.length,s=t[0].length,i=[],r=0;r<e;r++){i.push([]);for(var n=0;n<s;n++)i[r][n]=t[n][s-r-1]}return i},move:function(t){if(0===t)this.moveLeft();else{for(var e=0;e<t;e++)this.tiles=this.rotateLeft(this.tiles);this.moveLeft();for(var s=0;s<4-t;s++)this.tiles=this.rotateLeft(this.tiles)}this.refreshTiles();for(var i=0;i<4;i++)this.$set(this.tiles,i,this.tiles[i]);this.isMove&&this.generateRandom(),this.isDefeat()&&(this.isOver=!0)},moveLeft:function(){this.isMove=!1;for(var t=0;t<4;t++){for(var e=this.tiles[t].filter(function(t){return 0!==t.value}),s=[];e.length>0;){var i=e.shift();e.length>0&&i.value===e[0].value&&(i.value+=e.shift().value||0),s.push(i)}if(s.length<4)for(var n=s.length;n<4;n++)s.push(new r.a);this.isMove=this.isMove?this.isMove:!this.equals(this.tiles[t],s),this.tiles[t]=s}},equals:function(t,e){if(t.length!==e.length)return!1;for(var s=0;s<e.length;s++)if(e[s].value!==t[s].value)return!1;return!0},isDefeat:function(){for(var t=!1,e=[-1,1,0,0],s=[0,0,-1,1],i=0;i<4&&!(t|=4!==this.tiles[i].filter(function(t){return 0!==t.value}).length);i++)for(var r=0;r<4;r++)for(var n=0;n<4;n++){var o=i+e[n],a=r+s[n];o>=0&&a>=0&&o<4&&a<4&&(t|=this.tiles[i][r].value===this.tiles[o][a].value)}return!t}},components:{Cell:i.a}}},h8EM:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"game"},[s("div",{staticClass:"map"},[t._l(t.tiles[0],function(t){return s("cell",{attrs:{tile:t}})}),t._v(" "),t._l(t.tiles[1],function(t){return s("cell",{attrs:{tile:t}})}),t._v(" "),t._l(t.tiles[2],function(t){return s("cell",{attrs:{tile:t}})}),t._v(" "),t._l(t.tiles[3],function(t){return s("cell",{attrs:{tile:t}})}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isOver,expression:"isOver"}],staticClass:"gameover"},[s("div",{staticClass:"again"},[s("p",{staticClass:"show-over"},[t._v("GAME OVER")]),t._v(" "),s("button",{staticClass:"try-again",on:{click:function(e){t.init()}}},[t._v("Try Again")])])])],2),t._v(" "),s("div",{staticClass:"score"},[t._v("\n    max: "+t._s(t.score)+"\n  ")])])},r=[],n={render:i,staticRenderFns:r};e.a=n},xJD8:function(t,e,s){"use strict";var i=s("3GDu");e.a={name:"app",components:{Map:i.a}}}},["NHnr"]);
//# sourceMappingURL=app.e2a106af9d3fd18218a3.js.map